<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>å˜èªä¸€è¦§ - VocabSpring</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        nav {
            margin-bottom: 20px;
        }

        nav a {
            margin-right: 12px;
            color: #4f46e5;
            text-decoration: none;
        }

        nav a:hover {
            text-decoration: underline;
        }

        .category-group {
            margin-bottom: 16px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        }

        .category-group summary {
            padding: 10px 16px;
            background-color: #f3f4f6;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            list-style: none;
        }

        .category-group summary::-webkit-details-marker {
            display: none;
        }

        .category-group summary::before {
            content: 'â–¶';
            font-size: 0.75rem;
            transition: transform 0.2s;
        }

        .category-group[open] summary::before {
            transform: rotate(90deg);
        }

        .badge {
            background-color: #4f46e5;
            color: white;
            font-size: 0.75rem;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: normal;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background-color: #f9fafb;
            text-align: left;
            padding: 8px 12px;
            font-size: 0.85rem;
            color: #6b7280;
            border-bottom: 1px solid #e5e7eb;
        }

        td {
            padding: 8px 12px;
            border-bottom: 1px solid #f3f4f6;
            font-size: 0.9rem;
        }

        tr:hover td {
            background-color: #f9fafb;
        }

        .actions a {
            color: #4f46e5;
            text-decoration: none;
            margin-right: 8px;
        }

        .actions button {
            background: none;
            border: none;
            color: #dc2626;
            cursor: pointer;
            font-size: 0.9rem;
            padding: 0;
        }

        .actions button:hover {
            text-decoration: underline;
        }

        .empty-message {
            text-align: center;
            color: #9ca3af;
            padding: 40px;
            font-size: 1rem;
        }
    </style>
</head>

<body>
    <h1>ğŸ“– å˜èªä¸€è¦§</h1>

    <nav>
        <a href="/">ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹</a>
        <a href="/words/new">ï¼‹ æ–°ã—ã„å˜èªã‚’è¿½åŠ </a>
    </nav>

    <!-- ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚°ãƒ«ãƒ¼ãƒ—è¡¨ç¤º -->
    <div th:if="${!wordsByCategory.isEmpty()}">
        <details class="category-group" th:each="entry : ${wordsByCategory}" open>
            <summary>
                <span th:text="${entry.key}">ã‚«ãƒ†ã‚´ãƒªå</span>
                <span class="badge" th:text="${#lists.size(entry.value)} + 'èª'">0èª</span>
            </summary>
            <table>
                <thead>
                    <tr>
                        <th>å˜èª (Words)</th>
                        <th>æ„å‘³ (Meaning)</th>
                        <th>ä¾‹æ–‡</th>
                        <th style="width: 120px;">æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="word : ${entry.value}">
                        <td th:text="${word.term}">Apple</td>
                        <td th:text="${word.definition}">ã‚Šã‚“ã”</td>
                        <td th:text="${word.exampleSentence}">I eat an apple.</td>
                        <td class="actions">
                            <a th:href="@{/words/edit/{id}(id=${word.id})}">ç·¨é›†</a>
                            <form th:action="@{/words/delete/{id}(id=${word.id})}" method="post"
                                style="display:inline;">
                                <button type="submit" onclick="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')">å‰Šé™¤</button>
                            </form>
                        </td>
                    </tr>
                </tbody>
            </table>
        </details>
    </div>

    <!-- å˜èªãŒ1ã¤ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„å ´åˆ -->
    <div th:if="${wordsByCategory.isEmpty()}" class="empty-message">
        <p>å˜èªãŒã¾ã ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</p>
        <p><a href="/words/new">ï¼‹ æœ€åˆã®å˜èªã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†</a></p>
    </div>
</body>

</html>