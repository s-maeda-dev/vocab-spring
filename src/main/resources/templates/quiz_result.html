<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/head :: head('クイズ結果 - VocabSpring')}"></head>

<body class="bg-background-light text-text-main font-display p-6">
    <div
        class="relative flex h-full min-h-screen w-full max-w-md flex-col bg-background-light shadow-2xl mx-auto pb-32">
        <header class="flex items-center justify-center px-6 py-6 pt-14 z-10 w-full relative">
            <h1 class="text-lg font-bold text-text-main tracking-wider">クイズ結果</h1>
        </header>

        <main class="flex-1 px-6 flex flex-col items-center justify-center">

            <div th:if="${isCorrect}" class="mb-6 flex flex-col items-center gap-2">
                <h2 class="text-4xl font-bold text-green-600 font-display tracking-wide drop-shadow-sm">正解！</h2>
            </div>

            <div th:unless="${isCorrect}" class="mb-6 flex flex-col items-center gap-2">
                <h2 class="text-4xl font-bold text-rose-600 font-display tracking-wide drop-shadow-sm">不正解…</h2>
            </div>

            <div class="w-full rounded-3xl bg-surface-light shadow-neu-flat p-6 flex flex-col gap-6 mt-2">
                <div class="flex flex-col gap-2 border-b border-text-muted/10 pb-5">
                    <span class="text-xs font-bold text-text-muted tracking-wider">あなたの解答</span>
                    <span class="text-xl font-bold text-text-main" th:text="${userAnswer}">user answer</span>
                </div>
                <div class="flex flex-col gap-2 pb-2">
                    <span class="text-xs font-bold text-text-muted tracking-wider">正解</span>
                    <div class="flex flex-col gap-2">
                        <span class="text-2xl font-bold text-primary font-display"
                            th:text="${correctWord.term}">term</span>
                        <span class="text-base font-medium text-text-main leading-relaxed"
                            th:text="${correctWord.definition}">definition</span>
                    </div>
                </div>

                <div th:if="${correctWord.exampleSentence != null and !#strings.isEmpty(correctWord.exampleSentence)}"
                    class="flex flex-col gap-2 rounded-2xl bg-background-light shadow-neu-pressed p-4 mt-2">
                    <span class="text-[10px] font-bold text-text-muted tracking-wider flex items-center gap-1">
                        <span class="material-symbols-outlined text-[14px]">format_quote</span>
                        例文・メモ
                    </span>
                    <p class="text-sm font-medium text-text-main leading-relaxed"
                        th:text="${correctWord.exampleSentence}">
                        Example Sentence here
                    </p>
                </div>
            </div>

            <div class="w-full mt-12" th:if="${quizSession.currentQuestionNumber <= quizSession.totalQuestions}">
                <form th:action="@{/quiz}" method="get">
                    <button type="submit" autofocus
                        class="w-full py-4 rounded-full bg-primary text-white font-bold shadow-[6px_6px_14px_#D1CDC7,-6px_-6px_14px_#FFFFFF] flex items-center justify-center gap-2 active:scale-95 active:shadow-[inset_3px_3px_6px_#7a6556,inset_-3px_-3px_6px_#b29580] transition-all outline-none">
                        <span>次の問題へ</span>
                        <span class="material-symbols-outlined text-[20px]">arrow_forward</span>
                    </button>
                </form>
            </div>

            <div class="w-full mt-12" th:unless="${quizSession.currentQuestionNumber <= quizSession.totalQuestions}">
                <a th:href="@{/quiz/summary}"
                    class="w-full py-4 rounded-full bg-primary text-white font-bold shadow-[6px_6px_14px_#D1CDC7,-6px_-6px_14px_#FFFFFF] flex items-center justify-center gap-2 active:scale-95 active:shadow-[inset_3px_3px_6px_#7a6556,inset_-3px_-3px_6px_#b29580] transition-all outline-none">
                    <span>クイズ結果のまとめへ</span>
                    <span class="material-symbols-outlined text-[20px]">flag</span>
                </a>
            </div>

        </main>
    </div>

</body>

</html>